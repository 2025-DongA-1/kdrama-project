<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>k-drama ë°ì´í„° ë¶„ì„</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='/css/index.css') }}">
</head>
<body>
    <div class="sidebar">
        <h1 style="cursor:pointer;" onclick="showHome()">ë“œë¼ë§ˆ ë°ì´í„°<br>ë¶„ì„ ì‹œìŠ¤í…œ</h1>
        
        <!-- TV ë“œë¼ë§ˆ ë©”ë‰´ -->
        <div class="menu-group">
            <div class="menu-group-header" onclick="toggleMenu('tv-drama')">
                <span>ğŸ“º TV ë“œë¼ë§ˆ</span>
                <span class="arrow" id="tv-drama-arrow">â–¶</span>
            </div>
            <div class="submenu" id="tv-drama">
                <button class="menu-btn" onclick="loadPage('/tv_count')">ì±„ë„ë³„ ë“œë¼ë§ˆ ìˆ˜</button>
                <button class="menu-btn" onclick="loadPage('/tv_date')">ë°©ì˜ ìš”ì¼</button>
                <button class="menu-btn" onclick="loadPage('/tv_runningtime')">ëŸ¬ë‹íƒ€ì„</button>
                <button class="menu-btn" onclick="loadPage('/tv_genre')">ì¥ë¥´ ìˆ˜</button>
                <button class="menu-btn" onclick="loadPage('/tv_rating')">í‰ì </button>
            </div>
        </div>

        <!-- OTT ë“œë¼ë§ˆ ë©”ë‰´ -->
        <div class="menu-group">
            <div class="menu-group-header" onclick="toggleMenu('ott-drama')">
                <span>ğŸ¬ OTT ë“œë¼ë§ˆ</span>
                <span class="arrow" id="ott-drama-arrow">â–¶</span>
            </div>
            <div class="submenu" id="ott-drama">
                <button class="menu-btn" onclick="loadPage('/ott_count')">ì±„ë„ë³„ ë“œë¼ë§ˆ ìˆ˜</button>
                <button class="menu-btn" onclick="loadPage('/ott_date')">ë°©ì˜ ìš”ì¼</button>
                <button class="menu-btn" onclick="loadPage('/ott_runningtime')">ëŸ¬ë‹íƒ€ì„</button>
                <button class="menu-btn" onclick="loadPage('/ott_genre')">ì¥ë¥´ ìˆ˜</button>
                <button class="menu-btn" onclick="loadPage('/ott_rating')">í‰ì </button>
            </div>
        </div>

        <!-- í†µí•© ë¶„ì„ ë©”ë‰´ -->
        <div class="menu-group">
            <div class="menu-group-header" onclick="toggleMenu('integrated')">
                <span>ğŸ“ˆ í†µí•© ë¶„ì„</span>
                <span class="arrow" id="integrated-arrow">â–¶</span>
            </div>
            <div class="submenu" id="integrated">
                <button class="menu-btn" onclick="loadPage('/all_count')">ì „ì²´ ì±„ë„ë³„</button>
                <button class="menu-btn" onclick="loadPage('/all_date')">ì „ì²´ ë°©ì˜ ìš”ì¼</button>
                <button class="menu-btn" onclick="loadPage('/all_runningtime')">ì „ì²´ ëŸ¬ë‹íƒ€ì„</button>
                <button class="menu-btn" onclick="loadPage('/all_genre')">ì „ì²´ ì¥ë¥´ ìˆ˜</button>
                <button class="menu-btn" onclick="loadPage('/all_rating')">ì „ì²´ í‰ì </button>
            </div>
        </div>
    </div>

    <div class="content" id="content">
        <div class="welcome">
            <div class="welcome-content">
                <h2>ğŸ¬ ë“œë¼ë§ˆ ë°ì´í„° ë¶„ì„ ì‹œìŠ¤í…œ</h2>
                <p>ì™¼ìª½ ë©”ë‰´ì—ì„œ ì›í•˜ëŠ” ë¶„ì„ í•­ëª©ì„ ì„ íƒí•˜ì„¸ìš”.<br>
                2020ë…„ ì „í›„ ë“œë¼ë§ˆ ë°ì´í„°ë¥¼ ë¹„êµ ë¶„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            </div>
        </div>
    </div>

    <script>
        function toggleMenu(menuId) {
            const submenu = document.getElementById(menuId);
            const arrow = document.getElementById(menuId + '-arrow');
            
            submenu.classList.toggle('open');
            arrow.classList.toggle('open');
        }

        function loadPage(url) {
            const content = document.getElementById('content');
            content.innerHTML = `<iframe src="${url}"></iframe>`;
            
            // í™œì„± ë²„íŠ¼ ìŠ¤íƒ€ì¼ ë³€ê²½
            document.querySelectorAll('.menu-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

    function toggleMenu(menuId) {
        const submenu = document.getElementById(menuId);
        const arrow = document.getElementById(menuId + '-arrow');
        submenu.classList.toggle('open');
        arrow.classList.toggle('open');
    }

    function loadPage(url) {
        const content = document.getElementById('content');
        content.innerHTML = `<iframe src="${url}"></iframe>`;

        // ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™” + í´ë¦­ëœ ë²„íŠ¼ ê°•ì¡°
        document.querySelectorAll('.menu-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        event.target.classList.add('active');
    }

    // âœ… í™ˆ í™”ë©´ìœ¼ë¡œ ë³µê·€í•˜ëŠ” í•¨ìˆ˜
    function showHome() {
        const content = document.getElementById('content');
        content.innerHTML = `
            <div class="welcome">
                <div class="welcome-content">
                    <h2>ğŸ¬ ë“œë¼ë§ˆ ë°ì´í„° ë¶„ì„ ì‹œìŠ¤í…œ</h2>
                    <p>ì™¼ìª½ ë©”ë‰´ì—ì„œ ì›í•˜ëŠ” ë¶„ì„ í•­ëª©ì„ ì„ íƒí•˜ì„¸ìš”.<br>
                    2020ë…„ ì „í›„ ë“œë¼ë§ˆ ë°ì´í„°ë¥¼ ë¹„êµ ë¶„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                </div>
            </div>
        `;

        // í™œì„± ë²„íŠ¼ ì´ˆê¸°í™” (ëª¨ë‘ ë¹„í™œì„±í™”)
        document.querySelectorAll('.menu-btn').forEach(btn => {
            btn.classList.remove('active');
        });
    }
    </script>
</body>
</html>